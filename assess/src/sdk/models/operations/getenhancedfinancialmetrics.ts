/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { AxiosResponse } from "axios";
import { Expose, Transform, Type } from "class-transformer";

export class GetEnhancedFinancialMetricsRequest extends SpeakeasyBase {
  @SpeakeasyMetadata({
    data: "pathParam, style=simple;explode=false;name=companyId",
  })
  companyId: string;

  @SpeakeasyMetadata({
    data: "pathParam, style=simple;explode=false;name=connectionId",
  })
  connectionId: string;

  /**
   * The number of periods to return.  There will be no pagination as a query parameter, however Codat will limit the number of periods to request to 12 periods.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=numberOfPeriods",
  })
  numberOfPeriods: number;

  /**
   * The number of months per period. E.g. 2 = 2 months per period.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=periodLength",
  })
  periodLength: number;

  /**
   * The date in which the report is created up to. Users must specify a specific date, however the response will be provided for the full month.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=reportDate",
  })
  reportDate: string;

  /**
   * If set to true, then the system includes the input values within the response.
   */
  @SpeakeasyMetadata({
    data: "queryParam, style=form;explode=true;name=showMetricInputs",
  })
  showMetricInputs?: boolean;
}

export enum GetEnhancedFinancialMetrics200ApplicationJSONErrorsTypeEnum {
  DataNotSynced = "DataNotSynced",
  DataNotSupported = "DataNotSupported",
  DataSyncFailed = "DataSyncFailed",
  DataTypeNotEnabled = "DataTypeNotEnabled",
}

export class GetEnhancedFinancialMetrics200ApplicationJSONErrors extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "message" })
  message?: string;

  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: GetEnhancedFinancialMetrics200ApplicationJSONErrorsTypeEnum;
}

/**
 * Dictionary list outlining the missing properties or allowed values.
 */
export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrorsAssessErrorDetails extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetail1" })
  propertyDetail1?: string[];

  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetail2" })
  propertyDetail2?: string[];

  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetailN" })
  propertyDetailN?: string[];
}

/**
 * Metric level error.
 */
export enum GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrorsTypeEnum {
  UncategorizedAccounts = "UncategorizedAccounts",
  MissingInputData = "MissingInputData",
  InputDataError = "InputDataError",
}

export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrors extends SpeakeasyBase {
  /**
   * Dictionary list outlining the missing properties or allowed values.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "details" })
  @Type(
    () =>
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrorsAssessErrorDetails
  )
  details?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrorsAssessErrorDetails;

  /**
   * Description of the error.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "message" })
  message?: string;

  /**
   * Metric level error.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrorsTypeEnum;
}

export enum GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricKeyEnum {
  Unknown = "Unknown",
  Ebitda = "EBITDA",
  DebtServiceCoverageRatio = "DebtServiceCoverageRatio",
  CurrentRatioQuickRatio = "CurrentRatio QuickRatio",
  GrossProfitMargin = "GrossProfitMargin",
  FixedChargeCoverageRatio = "FixedChargeCoverageRatio",
  WorkingCapital = "WorkingCapital",
  FreeCashFlow = "FreeCashFlow",
  NetProfitMargin = "NetProfitMargin",
  ReturnOnAssetsRatio = "ReturnOnAssetsRatio",
  ReturnOnEquityRatio = "ReturnOnEquityRatio",
  OperatingProfitMargin = "OperatingProfitMargin",
  DeptToEquity = "DeptToEquity",
  DebtToAssets = "DebtToAssets",
  InterestCoverageRatio = "InterestCoverageRatio",
  CashRatio = "CashRatio",
  InventoryTurnoverRatio = "InventoryTurnoverRatio",
  AssetTurnoverRatio = "AssetTurnoverRatio",
  WorkingCapitalTurnoverRatio = "WorkingCapitalTurnoverRatio",
  DaysSalesOutstanding = "DaysSalesOutstanding",
  DaysPayablesOutstanding = "DaysPayablesOutstanding",
}

export enum GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricMetricUnitEnum {
  Ratio = "Ratio",
  Money = "Money",
}

/**
 * Dictionary list outlining the missing properties or allowed values.
 */
export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrorsAssessErrorDetails extends SpeakeasyBase {
  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetail1" })
  propertyDetail1?: string[];

  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetail2" })
  propertyDetail2?: string[];

  @SpeakeasyMetadata()
  @Expose({ name: "propertyDetailN" })
  propertyDetailN?: string[];
}

/**
 * Period error type.
 */
export enum GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrorsTypeEnum {
  MissingAccountData = "MissingAccountData",
  DatesOutOfRange = "DatesOutOfRange",
}

export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrors extends SpeakeasyBase {
  /**
   * Dictionary list outlining the missing properties or allowed values.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "details" })
  @Type(
    () =>
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrorsAssessErrorDetails
  )
  details?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrorsAssessErrorDetails;

  /**
   * Description of the error.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "massage" })
  massage?: string;

  /**
   * Period error type.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "type" })
  type?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrorsTypeEnum;
}

export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsInputs extends SpeakeasyBase {
  /**
   * The name of the metric input e.g. “Current Assets”, “Capital Expenditure”.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;

  /**
   * The positive or negative number of the input value.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: number;
}

export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriods extends SpeakeasyBase {
  @SpeakeasyMetadata({
    elemType:
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrors,
  })
  @Expose({ name: "errors" })
  @Type(
    () =>
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrors
  )
  errors?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsErrors[];

  /**
   * The date from which the report starts.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "fromDate" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  fromDate?: Date;

  @SpeakeasyMetadata({
    elemType:
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsInputs,
  })
  @Expose({ name: "inputs" })
  @Type(
    () =>
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsInputs
  )
  inputs?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriodsInputs[];

  /**
   * The date on which the report ends (inclusive of day).
   */
  @SpeakeasyMetadata()
  @Expose({ name: "toDate" })
  @Transform(({ value }) => new Date(value), { toClassOnly: true })
  toDate?: Date;

  /**
   * The top level metric value that is calculated for the specified period.
   *
   * @remarks
   *
   * If the system cannot calculate for that period, the value will be null. The system will still show the metric inputs.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "value" })
  value?: number;
}

export class GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetric extends SpeakeasyBase {
  @SpeakeasyMetadata({
    elemType:
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrors,
  })
  @Expose({ name: "errors" })
  @Type(
    () => GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrors
  )
  errors?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricErrors[];

  @SpeakeasyMetadata()
  @Expose({ name: "key" })
  key?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricKeyEnum;

  @SpeakeasyMetadata()
  @Expose({ name: "metricUnit" })
  metricUnit?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricMetricUnitEnum;

  /**
   * Metric name.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "name" })
  name?: string;

  @SpeakeasyMetadata({
    elemType:
      GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriods,
  })
  @Expose({ name: "periods" })
  @Type(
    () => GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriods
  )
  periods?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetricPeriods[];
}

export enum GetEnhancedFinancialMetrics200ApplicationJSONPeriodUnitEnum {
  Month = "Month",
  Week = "Week",
  Day = "Day",
}

/**
 * OK
 */
export class GetEnhancedFinancialMetrics200ApplicationJSON extends SpeakeasyBase {
  /**
   * The currency data type in Codat is the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code, e.g. _GBP_.
   *
   * @remarks
   *
   * ## Unknown currencies
   *
   * In line with the ISO 4217 specification, the code _XXX_ is used when the data source does not return a currency for a transaction.
   *
   * There are only a very small number of edge cases where this currency code is returned by the Codat system.
   */
  @SpeakeasyMetadata()
  @Expose({ name: "currency" })
  currency?: string;

  /**
   * If there are no errors, an empty array is returned.
   */
  @SpeakeasyMetadata({
    elemType: GetEnhancedFinancialMetrics200ApplicationJSONErrors,
  })
  @Expose({ name: "errors" })
  @Type(() => GetEnhancedFinancialMetrics200ApplicationJSONErrors)
  errors?: GetEnhancedFinancialMetrics200ApplicationJSONErrors[];

  @SpeakeasyMetadata({
    elemType: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetric,
  })
  @Expose({ name: "metrics" })
  @Type(() => GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetric)
  metrics?: GetEnhancedFinancialMetrics200ApplicationJSONFinancialMetric[];

  @SpeakeasyMetadata()
  @Expose({ name: "periodUnit" })
  periodUnit?: GetEnhancedFinancialMetrics200ApplicationJSONPeriodUnitEnum;
}

export class GetEnhancedFinancialMetricsResponse extends SpeakeasyBase {
  @SpeakeasyMetadata()
  contentType: string;

  @SpeakeasyMetadata()
  statusCode: number;

  @SpeakeasyMetadata()
  rawResponse?: AxiosResponse;

  /**
   * OK
   */
  @SpeakeasyMetadata()
  getEnhancedFinancialMetrics200ApplicationJSONObject?: GetEnhancedFinancialMetrics200ApplicationJSON;
}
