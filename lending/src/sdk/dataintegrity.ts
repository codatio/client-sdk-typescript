/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { dataIntegrityDetails } from "../funcs/dataIntegrityDetails.js";
import { dataIntegrityStatus } from "../funcs/dataIntegrityStatus.js";
import { dataIntegritySummaries } from "../funcs/dataIntegritySummaries.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "./models/operations/index.js";
import * as shared from "./models/shared/index.js";
import { unwrapAsync } from "./types/fp.js";

export class DataIntegrity extends ClientSDK {
  /**
   * Get data integrity status
   *
   * @remarks
   * The *Get data integrity status* endpoint returns the [status](https://docs.codat.io/lending-api#/schemas/DataIntegrityStatus) for the companyâ€™s match results between the data type provided in the URL and other data types that Data Integrity uses to support matching.
   * This endpoint helps you understand whether match data is available and, if so, how to usefully query it.
   *
   * The response tells you:
   *
   * - Whether match results are available.
   * - When the results were generated, and their status.
   * - The connection IDs, amounts, and dates involved to support useful querying.
   */
  async status(
    request: operations.GetDataIntegrityStatusRequest,
    options?: RequestOptions,
  ): Promise<shared.DataIntegrityStatuses> {
    return unwrapAsync(dataIntegrityStatus(
      this,
      request,
      options,
    ));
  }

  /**
   * Get data integrity summaries
   *
   * @remarks
   * The *Get data integrity summary* endpoint returns a [summary](https://docs.codat.io/lending-api#/schemas/DataIntegritySummary) of match results for a given data type filtered by a query string in the [Codat query language](https://docs.codat.io/using-the-api/querying).
   *
   * For example, if you wanted to see summary match results only for transactions after 1 December 2020, you could include a query parameter of `query=date>2020-12-01`.
   *
   * The endpoint response includes only the summary results, not transactions. To view match data for transactions, use the [List data integrity details](https://docs.codat.io/lending-api#/operations/list-data-type-data-integrity-details) endpoint.
   */
  async summaries(
    request: operations.GetDataIntegritySummariesRequest,
    options?: RequestOptions,
  ): Promise<shared.DataIntegritySummaries> {
    return unwrapAsync(dataIntegritySummaries(
      this,
      request,
      options,
    ));
  }

  /**
   * List data integrity details
   *
   * @remarks
   * The *List data integrity details* endpoint returns the match result record by record for a given data type, filtered based on a query string in the same way as summary results.
   *
   * The [details](https://docs.codat.io/lending-api#/schemas/DataIntegrityDetails) are paginated and support ordering, following the same conventions as our other data endpoints.
   */
  async details(
    request: operations.ListDataIntegrityDetailsRequest,
    options?: RequestOptions,
  ): Promise<shared.DataIntegrityDetails> {
    return unwrapAsync(dataIntegrityDetails(
      this,
      request,
      options,
    ));
  }
}
