/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * Describes your Codat client instance
 */
export type Profile = {
  /**
   * The name given to the instance.
   */
  name: string;
  /**
   * Static url to your organization's logo.
   */
  logoUrl?: string | undefined;
  /**
   * Static url to your organization's icon.
   */
  iconUrl?: string | undefined;
  /**
   * The redirect URL pasted on to the SMB once Codat's [Hosted Link](https://docs.codat.io/auth-flow/authorize-hosted-link) has been completed by the SMB.
   */
  redirectUrl: string;
  /**
   * A list of urls that are allowed to communicate with Codat. If empty any url is allowed to communicate with Codat.
   */
  whiteListUrls?: Array<string> | undefined;
  /**
   * The API key for this Codat instance.
   *
   * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
   */
  apiKey?: string | undefined;
  /**
   * `True` if the company name has been confirmed.
   *
   * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
   */
  confirmCompanyName?: boolean | undefined;
};

/** @internal */
export const Profile$inboundSchema: z.ZodType<Profile, z.ZodTypeDef, unknown> =
  z.object({
    name: z.string(),
    logoUrl: z.string().optional(),
    iconUrl: z.string().optional(),
    redirectUrl: z.string(),
    whiteListUrls: z.array(z.string()).optional(),
    apiKey: z.string().optional(),
    confirmCompanyName: z.boolean().optional(),
  });
/** @internal */
export type Profile$Outbound = {
  name: string;
  logoUrl?: string | undefined;
  iconUrl?: string | undefined;
  redirectUrl: string;
  whiteListUrls?: Array<string> | undefined;
  apiKey?: string | undefined;
  confirmCompanyName?: boolean | undefined;
};

/** @internal */
export const Profile$outboundSchema: z.ZodType<
  Profile$Outbound,
  z.ZodTypeDef,
  Profile
> = z.object({
  name: z.string(),
  logoUrl: z.string().optional(),
  iconUrl: z.string().optional(),
  redirectUrl: z.string(),
  whiteListUrls: z.array(z.string()).optional(),
  apiKey: z.string().optional(),
  confirmCompanyName: z.boolean().optional(),
});

export function profileToJSON(profile: Profile): string {
  return JSON.stringify(Profile$outboundSchema.parse(profile));
}
export function profileFromJSON(
  jsonString: string,
): SafeParseResult<Profile, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Profile$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Profile' from JSON`,
  );
}
