/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";

export type WebhookConsumerPrototype = {
  /**
   * The URL that will consume webhook events dispatched by Codat.
   */
  url?: string | undefined;
  /**
   * Flag that enables or disables the endpoint from receiving events. Disabled when set to `true`.
   */
  disabled?: boolean | null | undefined;
  /**
   * An array of event types the webhook consumer subscribes to.
   */
  eventTypes?: Array<string> | undefined;
  /**
   * Company tags provide an additional way to filter messages, independent of event types. Company tags are case-sensitive, and only messages from companies with matching tags will be sent to this endpoint. Use the format `tagKey:tagValue`.
   */
  companyTags?: Array<string> | null | undefined;
};

/** @internal */
export type WebhookConsumerPrototype$Outbound = {
  url?: string | undefined;
  disabled: boolean | null;
  eventTypes?: Array<string> | undefined;
  companyTags?: Array<string> | null | undefined;
};

/** @internal */
export const WebhookConsumerPrototype$outboundSchema: z.ZodType<
  WebhookConsumerPrototype$Outbound,
  z.ZodTypeDef,
  WebhookConsumerPrototype
> = z.object({
  url: z.string().optional(),
  disabled: z.nullable(z.boolean().default(false)),
  eventTypes: z.array(z.string()).optional(),
  companyTags: z.nullable(z.array(z.string())).optional(),
});

export function webhookConsumerPrototypeToJSON(
  webhookConsumerPrototype: WebhookConsumerPrototype,
): string {
  return JSON.stringify(
    WebhookConsumerPrototype$outboundSchema.parse(webhookConsumerPrototype),
  );
}
